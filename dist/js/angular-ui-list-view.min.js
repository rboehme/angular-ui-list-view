"use strict";angular.module("ngUIListView",[]).constant("ngUIListViewConfig",{stepper:{min:0,max:1e6,stepSize:1,iconMinus:"glyphicon glyphicon-minus",iconPlus:"glyphicon glyphicon-plus"}}).directive("listItem",function(){return{restrict:"E",controller:["$scope","$element",function(a,b){this.scope=a,this.element=b,a.$watch("disabled",function(a){a?b.addClass("item-disabled"):b.removeClass("item-disabled")}),a.$watch("selected",function(a){a?b.addClass("item-selected"):b.removeClass("item-selected")})}],compile:function(a,b){var c=angular.isDefined(b.href)||angular.isDefined(b.ngHref)||angular.isDefined(b.uiSref),d=a.hasClass("item-checkbox")||a.hasClass("item-radio"),e=angular.element(c?"<a></a>":d?"<label></label>":"<div></div>");c&&(angular.isDefined(b.href)||angular.isDefined(b.ngHref)?(e.attr("ng-href",b.href||b.ngHref),angular.isDefined(b.target)&&e.attr("target",b.target)):angular.isDefined(b.uiSref)&&e.attr("ui-sref",b.uiSref)),e.addClass("item-content"),e.append(a.contents()),a.append(e),a.addClass("item")}}}).directive("itemPrefix",function(){return{restrict:"E",require:"^listItem",transclude:!0,replace:!0,template:'<div ng-transclude class="item-prefix"></div>'}}).directive("itemOption",function(){return{restrict:"E",require:"^listItem",compile:function(){return function(a,b,c,d){d.options||(d.options=angular.element('<div class="item-options"></div>'),d.element.prepend(d.options)),d.options.append(b)}}}}).directive("itemInput",function(){return{restrict:"E",require:"^listItem",transclude:!0,replace:!0,scope:{type:"@",value:"=ngModel",name:"@",id:"@",disabled:"=ngDisabled",pattern:"@",placeholder:"@"},template:'<div><label ng-class="{\'has-input\': value, \'has-input-focus\': focus}" class="floating-label"><div><div ng-if="placeholder" ng-bind="placeholder" class="label"></div><input type="{{type ? type : \'text\'}}" ng-model="value" ng-disabled="disabled" ng-pattern="pattern" name="{{name}}" id="{{id}}" class="input"></div></label></div>',link:function(a,b,c,d){b.removeAttr("id"),a.$watch("disabled",function(a){d.scope.disabled=a})}}}).directive("itemTextarea",function(){return{restrict:"E",require:"^listItem",transclude:!0,replace:!0,scope:{value:"=ngModel",name:"@",id:"@",disabled:"=ngDisabled",pattern:"@",placeholder:"@"},template:'<div><label ng-class="{\'has-input\': value, \'has-input-focus\': focus}" class="floating-label"><div><div ng-if="placeholder" ng-bind="placeholder" class="label"></div><textarea ng-model="value" ng-disabled="disabled" ng-pattern="pattern" name="{{name}}" id="{{id}}" class="input"></textarea></div></label></div>',link:function(a,b,c,d){b.removeAttr("id"),a.$watch("disabled",function(a){d.scope.disabled=a})}}}).directive("itemCheckbox",function(){return{restrict:"E",require:"^listItem",transclude:!0,replace:!0,scope:{label:"@",ngModel:"=",value:"=",multiple:"=ngMultiple",disabled:"=ngDisabled",handle:"@",name:"@"},template:function(a,b){var c="ngMultiple"in b,d='<div><div><div ng-if="label" ng-bind="label" class="label"></div><div ng-transclude></div></div>';return d+=c?'<input type="checkbox" ng-model="ngModel" ng-value="value" ng-disabled="disabled" name="{{name}}" class="checkbox">':'<div class="switch"><input type="checkbox" ng-model="ngModel" ng-value="value" ng-disabled="disabled" name="{{name}}" id="{{handle}}" class="checkbox"><label for="{{handle}}"></label></div>',d+="</div>"},link:function(a,b,c,d){a.$watch("disabled",function(a){d.scope.disabled=a});var e=function(c){var e=b.find("input").prop("checked");if(a.multiple){var f=a.multiple.indexOf(a.value);e&&-1===f?c?b.find("input").prop("checked",!1):a.multiple.push(a.value):e||-1===f||(c?b.find("input").prop("checked",!0):a.multiple.splice(f,1))}d.scope.selected=b.find("input").prop("checked")};if(a.multiple){var f=angular.bind(self,e,!0),g=angular.bind(self,e,!1);a.$watch("ngModel",function(a){void 0!==a&&b.triggerHandler("change")}),b.on("change",function(){g()}),a.$watch("multiple",f)}}}}).directive("itemRadio",function(){return{restrict:"E",require:"^listItem",transclude:!0,replace:!0,scope:{label:"@",ngModel:"=",value:"=",disabled:"=ngDisabled",name:"@"},template:'<div><div ng-if="label" ng-bind="label" class="label"></div><div ng-transclude></div><input type="radio" ng-model="ngModel" ng-value="value" ng-disabled="disabled" ng-checked="ngModel == value" name="{{name}}" class="radio"></div>',link:function(a,b,c,d){a.$watch("disabled",function(a){d.scope.disabled=a})}}}).directive("itemStepper",["ngUIListViewConfig",function(a){return{restrict:"E",require:"^listItem",transclude:!0,replace:!0,scope:{value:"=ngModel",name:"@",id:"@",disabled:"=ngDisabled",placeholder:"@",options:"="},template:'<label ng-class="{\'has-input\': isNumber(value) ||Â value, \'has-input-focus\': focus}" class="floating-label"><div><div ng-bind="placeholder" class="label"></div><input type="number" ng-model="value" ng-disabled="disabled" name="{{name}}" id="{{id}}" class="input" min="{{config.min}}" max="{{config.max}}" step="{{config.stepSize}}"></div><div class="btn-group stepper"><a ng-click="decrement()" class="btn"><i ng-class="config.iconMinus"></i></a><a ng-click="increment()" class="btn"><i ng-class="config.iconPlus"></i></a></div></label>',link:function(b,c,d,e){b.config=angular.extend({},a.stepper,b.options),b.isNumber=angular.isNumber,c.removeAttr("id"),b.$watch("disabled",function(a){e.scope.disabled=a}),c.find("input").bind("keypress",function(a){var b=a.which;return/[0-9]/.test(String.fromCharCode(b))||0===b||8===b?void 0:(a.preventDefault(),!1)}),b.decrement=function(){b.isNumber(b.value)&&(b.value=b.value-b.config.stepSize,b.value<b.config.min&&(b.value=b.config.min))},b.increment=function(){b.value=b.value||0,b.isNumber(b.value)&&(b.value=b.value+b.config.stepSize,b.value>b.config.max&&(b.value=b.config.max))}}}}]).directive("floatingLabel",function(){return{restrict:"C",link:function(a,b){angular.element(b[0].querySelectorAll("input, textarea")).bind("focus",function(){a.$apply(function(){a.focus=!0})}),angular.element(b[0].querySelectorAll("input, textarea")).bind("blur",function(){a.$apply(function(){a.focus=!1})})}}});